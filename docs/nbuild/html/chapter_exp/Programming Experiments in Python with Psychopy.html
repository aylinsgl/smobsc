

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.4. Programming Experiments in Python with Psychopy &mdash; smobsc 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Analysing Experimental Data" href="../chapter_ana/Analysing Experimental Data.html" />
    <link rel="prev" title="3.3. Experimental Designs" href="Experimental Designs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> smobsc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../chapter_phil/Philosophical Foundations.html">1. Philosophical Foundations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapter_comp/Computer stuff.html">2. Computer stuff</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Conducting Experiments.html">3. Conducting Experiments</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Variables in Psychology.html">3.1. Variables in Psychology</a></li>
<li class="toctree-l2"><a class="reference internal" href="Contrafactual Causality.html">3.2. Contrafactual Causality</a></li>
<li class="toctree-l2"><a class="reference internal" href="Experimental Designs.html">3.3. Experimental Designs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.4. Programming Experiments in Python with Psychopy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#story-time-galton-s-pendulum">3.4.1. Story Time: Galton’s Pendulum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">3.4.2. Programming Experiments in Python with Psychopy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-basic-logic-of-experiments-in-psychopy">The basic logic of experiments in Psychopy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alternative-software">3.4.3. Alternative software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#opensesame">OpenSesame</a></li>
<li class="toctree-l4"><a class="reference internal" href="#going-online-surveys-on-the-internet">Going online: surveys on the internet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">3.4.4. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapter_ana/Analysing Experimental Data.html">4. Analysing Experimental Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapter_res/Reporting the Results of Scientific Experiments.html">5. Reporting the Results of Scientific Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapter_abb/Abbendum.html">6. Abbendum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">7. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html#contact">8. Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">9. help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../How to contribute.html">10. How to contribute</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">smobsc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="Conducting Experiments.html">3. Conducting Experiments</a> &raquo;</li>
        
      <li>3.4. Programming Experiments in Python with Psychopy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/chapter_exp/Programming Experiments in Python with Psychopy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="programming-experiments-in-python-with-psychopy">
<h1>3.4. Programming Experiments in Python with Psychopy<a class="headerlink" href="#programming-experiments-in-python-with-psychopy" title="Permalink to this headline">¶</a></h1>
<div class="section" id="story-time-galton-s-pendulum">
<h2>3.4.1. Story Time: Galton’s Pendulum<a class="headerlink" href="#story-time-galton-s-pendulum" title="Permalink to this headline">¶</a></h2>
<p>In the 1880s, scientific progress had opened up a novel entertainment option for
Her Majesty Queen Victoria’s subjects: have their psychometric traits measured
in Francis Galton’s Science Galleries, at the South Kensington Museum. Visitors
paid “3 pence” (presumably some sort of currency) and then partake in a series
of encounters with novel and strange machinery. Thousands of participants
volunteered, establishing one of the first large-sample psychometric databases
in history. Amongst the things measured was how long it took the curious museum
goer to press a button in response to a simple light stimulus.</p>
<p>Galton measured response times using an ingenious design called the
<a class="reference external" href="http://galton.org/essays/1880-1889/galton-1889-rba-reaction-time.pdf">Pendulum chronograph</a>. Simplified, the position of a swinging pendulum at the
time point of a key-press could be compared to a reference table. This Galton
used as an estimate of response time, which allowed a state of the art
resolution of 1/100th of a second. Never before had mental process been
measured with higher precision.</p>
<div class="figure" id="id8">
<img alt="galtons instruments" src="../_images/galtons_instruments.png" />
<p class="caption"><span class="caption-text">Some of Galton’s tools. The pendulum chronograph is more complicated than any of these!</span></p>
<div class="legend">
Public domain image taken from (citation missing).</div>
</div>
<p>Other experimenters around this time were stopping response latencies with
manual stopwatches. Galton himself conducted human geographic surveys by
walking around London, mentally rating the women he saw for their
attractiveness, and covertly noting the ratings with a self made device: a
paper cross, into which he, in his pocket, punched a hole indicating if the
woman was of below average, average, or above average “beauty”.</p>
<p>It is not advised to mention such practices in a contemporary presentation of
scientific results. At the very least, the practices would be seen as grossly
inaccurate, and for many, highly open to experimenter bias. In particular, they
lack precision. Also, to be frank – they sound like a lot of work! While some
might decry a lack of entrepreneurial spirit, most of us will readily admit the
advantage of computerized methods.</p>
<p>Progress has made the work of the researcher much simpler. (Remember this
sentence whenever you feel frustrated attempting to program an experiment! At
least you are not Galton, keeping a pendulum chronograph in working condition,
or walking across London to mentally file people into rather crude and
subjective boxes.) Today, computers can show various visual input, play all
kinds of sounds, and accurately measure … well, a narrow kind of behavioral
responses made by experimental participants. Our computer’s graphics and sound
cards, and the keyboard and mouse drivers, are relatively arcane. There is as of
yet no convenient way to get a computer to show words or pictures on a screen
for the purposes of psychological experiments from our favourite programming
language, R. There are many commercial, closed-source solutions, which we will
all ignore in favour of the powerful and open Python options.</p>
<p>Why? Perhaps the most important benefit computerized experiments have is that
they are much more reproducible. Using an Open Source program and making
experimental stimuli and scripts available online allows other researchers to 1.
exactly retrace what happened in the original experiment, 2. repeat it ad
libitum. To actually exploit this reproducibility potential, we must use
software that is open. The biggest open source experimental presentation
software is Psychopy <a class="reference internal" href="#peirce2007psychopy" id="id1">[Pei07]</a>.</p>
</div>
<div class="section" id="id2">
<h2>3.4.2. Programming Experiments in Python with Psychopy<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Psychopy allows us to write simple and readable Python code to control our
computer’s low-level capacity for displaying and playing stimuli. Why is this
necessary? Because we need to work with the computer on a low level in order to
get it to achieve highly precise timings, and smoothly display even complex
visual stimuli. That is one half of the experimental program; the other will
consist in translating the (experimental design) into
computer code, so that, e.g., a study participant is presented with the required
number of trials resulting from your (power calculation) for the
conditions resulting from your (latin square design).</p>
<p>Because Psychopy is written in Python, we having already learned Python,
learning Psychopy reduces to learning the Psychopy-specific modules.</p>
<div class="section" id="the-basic-logic-of-experiments-in-psychopy">
<h3>The basic logic of experiments in Psychopy<a class="headerlink" href="#the-basic-logic-of-experiments-in-psychopy" title="Permalink to this headline">¶</a></h3>
<div class="section" id="stimuli">
<h4>Stimuli<a class="headerlink" href="#stimuli" title="Permalink to this headline">¶</a></h4>
<p>Psychopy can display auditory and visual stimuli; visual stimuli may be static,
or dynamic (moving animations, or videos). To display visual stimuli, Psychopy
must know about at least one <code class="docutils literal notranslate"><span class="pre">Monitor</span></code>, and at least one <code class="docutils literal notranslate"><span class="pre">Window</span></code>. Such a
<code class="docutils literal notranslate"><span class="pre">Window</span></code> is the plane on which drawn stimuli will be shown. Note that
<code class="docutils literal notranslate"><span class="pre">Monitor</span></code> and <code class="docutils literal notranslate"><span class="pre">Window</span></code> are software objects primarily inside of Psychopy.
They allow Psychopy to show things in a window on your physical screen
(or fullscreen).</p>
<p>Internally, Psychopy knows the backside and the front side of each <cite>Window`</cite>.
When a <code class="docutils literal notranslate"><span class="pre">Window</span></code> is newly created, both sides will be empty. We can now
draw things on the backside (using the <code class="docutils literal notranslate"><span class="pre">draw</span></code> method of various visual
objects). Once everything we want to show has been drawn, the <code class="docutils literal notranslate"><span class="pre">Window</span></code> is
“flipped” so that the painted backside is now shown on the physical screen.
The new backside is blank. We can now draw other things on this blank backside.
One option might be to draw nothing, to show a blank screen after the current
stimulus.
Eventually, we flip again; this clears everything we had drawn on the original
backside, and shows the other side on the screen. So: we manually paint –
piece by piece – one side of the window with everything we want to show, flip
it to show it, paint the new backside, flip again to show and clear, and repeat.</p>
<p>— put image tbd by aylin here —</p>
<p>The visual stimuli we can paint on screens live in the <code class="docutils literal notranslate"><span class="pre">psychopy.visual</span></code>
submodule. This includes various geometric shapes, as well as the <code class="docutils literal notranslate"><span class="pre">TextStim</span></code>
and <code class="docutils literal notranslate"><span class="pre">ImageStim</span></code> classes, which we will discuss extensively in the following.</p>
<p>For movie stimuli, see the <a class="reference external" href="http://www.psychopy.org/api/visual/moviestim.html">MovieStim</a>
class. Other stimuli include random dot motion and grating stimuli.</p>
</div>
<div class="section" id="keeping-track-of-time-and-responses">
<h4>Keeping track of time and responses<a class="headerlink" href="#keeping-track-of-time-and-responses" title="Permalink to this headline">¶</a></h4>
<p>Psychopy allows collecting button or keyboard responses and mouse events.
For time tracking, one can create and use one or more <code class="docutils literal notranslate"><span class="pre">clock</span></code> objects.
To time the duration of an event or interval, the clock is reset before the
event/at the start of the interval, and then measured at the end.
For example, to measure a response time to a stimulus, the clock is reset
exactly when the window flip to show the stimulus happens. Then, the clock
is checked when the button press happens. No pendulums involved!</p>
<p>Keyboard responses are measured by the <code class="docutils literal notranslate"><span class="pre">event.waitKeys</span></code> and <code class="docutils literal notranslate"><span class="pre">event.getKeys</span></code>
functions. If provided with a clock, they return a Python <code class="docutils literal notranslate"><span class="pre">list</span></code> of
<code class="docutils literal notranslate"><span class="pre">tuples</span></code>, each <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">time_since_clock_reset)</span></code></p>
</div>
<div class="section" id="storing-results-and-experimental-logic">
<h4>Storing results and experimental logic<a class="headerlink" href="#storing-results-and-experimental-logic" title="Permalink to this headline">¶</a></h4>
<p>Psychopy provides expensive functionality for logging results and the logistics
of presenting stimuli, but it is not even required to learn these; basic Python
code can be sufficient. For example, the humble <code class="docutils literal notranslate"><span class="pre">print</span></code> option can be employed
to write strings (such as response events) to disc.</p>
</div>
<div class="section" id="a-caveat-on-accuracy-and-precision">
<h4>A Caveat on Accuracy and Precision<a class="headerlink" href="#a-caveat-on-accuracy-and-precision" title="Permalink to this headline">¶</a></h4>
<p>In principle, Psychopy can be highly accurate. In practice, much depends on
specifics of the experiment and context <a class="reference internal" href="#garaizar2014accuracy" id="id3">[GV14]</a><a class="reference internal" href="#plant2016" id="id4">[Pla16]</a>.
Consider: one study has reported that Galton observed slightly <em>faster</em>
response times in Victorian times than are observed in contemporary experiments
<a class="reference internal" href="#woodley2013were" id="id5">[WTNM13]</a>. Could it be that the Victorians were mentally faster than
us? An alternative suggestion for this has been that timings on digital devices
are only ever approximations; i.e.,
<a class="reference external" href="http://deevybee.blogspot.com/2013/05/have-we-become-slower-and-dumber.html">many digital devices could not record increments shorter than 100 ms</a>!
Even with modern computer technology, the accuracy of stimulus presentation
timing is never better than the screen refresh rate. For example, many laptop
monitors have refresh rates of 60 Hz. That is, they can at most show a new
stimulus 16.5 ms after the previous stimulus, and all stimulus
timing intervals will <em>at best</em> be multiples of 16.5.</p>
<p>Remember the distinction between accuracy and precision: some of the inaccuracy
of stimulus and response time collection will be random jitter. In many cases,
this will simply show up as noise in the data (and thus, decrease the power of
the experiment). Systematic distortions are not a necessary consequence
<a class="reference internal" href="#vadillo2016" id="id6">[VG16]</a>. But other aspects represent an
inherent bias. For example, for build-in sound cards, auditory stimulus
presentation onset is preceded by a delay. Typically, this delay will be
approximately the same on every trial; but it will lead to a systematic
underestimation of stimulus onsets.</p>
<p>For experiments requiring extremely precise measurements, it becomes crucial to
measure, minimize and account for inaccuracy and bias. For this, external
hardware is required; i.e., light- or sound pressure sensitive detectors.
(For a cheap solution, the Raspberry Pi mini-computer can easily be
extended for this purpose.)</p>
</div>
<div class="section" id="an-example-experiment">
<h4>An example experiment<a class="headerlink" href="#an-example-experiment" title="Permalink to this headline">¶</a></h4>
<p>The following section will guide through the programming of a basic experimental
paradigm (a false-memory experiment). It will demonstrate Psychopy functionality
required to conduct a typical response time or many other types of experiments.
The example will be far from the only way to achieve this goal; many other
paths are viable. But following it will show many solutions to typical
problems during the creation of a psychological experiment.</p>
</div>
</div>
</div>
<div class="section" id="alternative-software">
<h2>3.4.3. Alternative software<a class="headerlink" href="#alternative-software" title="Permalink to this headline">¶</a></h2>
<p>A range of alternative software could also have been recommended. In particular,
OpenSesame is a convenient tool for those who strictly prefer graphical user
interfaces; Psychopy’s graphical user interface “Builder”, as well as the
javascript-based tool jsPsych allow conducting online experiments.</p>
<div class="section" id="opensesame">
<h3>OpenSesame<a class="headerlink" href="#opensesame" title="Permalink to this headline">¶</a></h3>
<p>Another powerful option is <a class="reference internal" href="#opensesame">OpenSesame</a>  <a class="reference internal" href="#mathot2012opensesame" id="id7">[MathotST12]</a>,
programmed by Sebastiaan Mathôt.
OpenSesame provides a graphical front-end, but also allows directly injecting
Python code for fine-tuning. It is recommended for those who prefer a point-
and-click, mouse-based approach while still demanding an open-source,
reproducible tool.</p>
</div>
<div class="section" id="going-online-surveys-on-the-internet">
<h3>Going online: surveys on the internet<a class="headerlink" href="#going-online-surveys-on-the-internet" title="Permalink to this headline">¶</a></h3>
<p>While we have come quite far since the days of the Pendulum Chronograph,
typically, to ensure precise measurements, time-sensitive experiments were
still restricted to dedicated lab computers. Recently, javascript-based
tools have made it possible to deliver experiments over the internet, and
conduct them in a web browser.</p>
<div class="section" id="online-experiments-with-the-psychopy-builder">
<h4>Online Experiments with the Psychopy Builder<a class="headerlink" href="#online-experiments-with-the-psychopy-builder" title="Permalink to this headline">¶</a></h4>
<p>This option is in fact build into Psychopy, but is not available from the Coder
view requires for Python programming. Instead, it must be accessed from the
<a class="reference external" href="http://www.psychopy.org/builder/builder.html">Builder</a> interface. See the <a class="reference external" href="http://www.psychopy.org/online/fromBuilder.html">Psychopy website</a> for a demonstration of how
this functionality can be used.</p>
</div>
<div class="section" id="jspsych">
<h4>JsPsych<a class="headerlink" href="#jspsych" title="Permalink to this headline">¶</a></h4>
<p>jsPsych is a javascript library that provides a great package of functions for
behavioral experiments. See the <a class="reference external" href="https://www.jspsych.org/">jsPsych website</a>.</p>
</div>
</div>
</div>
<div class="section" id="references">
<h2>3.4.4. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="bibtex-bibliography-chapter_exp/Programming Experiments in Python with Psychopy-0"><table class="docutils citation" frame="void" id="garaizar2014accuracy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[GV14]</a></td><td>Pablo Garaizar and Miguel&nbsp;A Vadillo. Accuracy and precision of visual stimulus timing in psychopy: no timing errors in standard usage. <em>PloS one</em>, 9(11):e112033, 2014.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mathot2012opensesame" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[MathotST12]</a></td><td>Sebastiaan Mathôt, Daniel Schreij, and Jan Theeuwes. Opensesame: an open-source, graphical experiment builder for the social sciences. <em>Behavior research methods</em>, 44(2):314–324, 2012.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="peirce2007psychopy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[Pei07]</a></td><td>Jonathan&nbsp;W Peirce. Psychopy—psychophysics software in python. <em>Journal of neuroscience methods</em>, 162(1-2):8–13, 2007.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="plant2016" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Pla16]</a></td><td>Richard&nbsp;R. Plant. A reminder on millisecond timing accuracy and potential replication failure in computer-based psychology experiments: an open letter. <em>Behavior Research Methods</em>, 48(1):408–411, Mar 2016. URL: <a class="reference external" href="https://doi.org/10.3758/s13428-015-0577-0">https://doi.org/10.3758/s13428-015-0577-0</a>, <a class="reference external" href="https://doi.org/10.3758/s13428-015-0577-0">doi:10.3758/s13428-015-0577-0</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="vadillo2016" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[VG16]</a></td><td>Miguel&nbsp;A. Vadillo and Pablo Garaizar. The effect of noise-induced variance on parameter recovery from reaction times. <em>BMC Bioinformatics</em>, 17(1):147, Mar 2016. URL: <a class="reference external" href="https://doi.org/10.1186/s12859-016-0993-x">https://doi.org/10.1186/s12859-016-0993-x</a>, <a class="reference external" href="https://doi.org/10.1186/s12859-016-0993-x">doi:10.1186/s12859-016-0993-x</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="woodley2013were" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[WTNM13]</a></td><td>Michael&nbsp;A Woodley, Jan Te&nbsp;Nijenhuis, and Raegan Murphy. Were the victorians cleverer than us? the decline in general intelligence estimated from a meta-analysis of the slowing of simple reaction time. <em>Intelligence</em>, 41(6):843–850, 2013.</td></tr>
</tbody>
</table>
</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../chapter_ana/Analysing Experimental Data.html" class="btn btn-neutral float-right" title="4. Analysing Experimental Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Experimental Designs.html" class="btn btn-neutral float-left" title="3.3. Experimental Designs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, everyone

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>